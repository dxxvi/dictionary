<!doctype html>
<html>
<head>
    <link rel="stylesheet" href="alertify.core.css" />
    <link rel="stylesheet" href="alertify.default.css" />
    <script src="alertify.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script type="text/javascript">
        function submit() {
            $("#loading").css({visibility: "visible"});
            $.post("/dictionary/services/words", {words: $("#words").val()}, function(data) {
                if (data.message) {
                    alertify.log(data.message);
                }
                if (data.error) {
                    alertify.error(data.error, "", 0);
                }
                $("#loading").css({visibility: "hidden"});
            });
        }

        function saveToFile(directory) {
            $("#loading").css({visibility: "visible"});
            $.getJSON("/dictionary/services/save", {_: new Date().getTime(), directory: directory}, function(data) {
                if (data.message) {
                    alertify.log(data.message);
                }
                if (data.error) {
                    alertify.error(data.error, "", 0);
                }
                $("#loading").css({visibility: "hidden"});
            });
        }
    </script>
</head>
<body style="color: #333;">
<div style="float: left;">
    <textarea id="words" style="font-size: 1.41em; color: #333; font-weight: lighter; line-height: 1.82em;" rows="4" cols="82"></textarea>
</div>
<div style="float: left; vertical-align: bottom;">
    <img src="loading.png" style="display: block; visibility: hidden; margin-bottom: 1em; margin-right: 1em;" id="loading"/>
    <button onclick="submit();">Download sounds</button><br/><br/>
    <button onclick="saveToFile('/dev/shm/dictionary/target/dictionary');">Save sounds to files</button>
</div>
</body>
</html>